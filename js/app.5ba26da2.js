(function(e){function t(t){for(var o,i,r=t[0],u=t[1],s=t[2],d=0,f=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);c&&c(t);while(f.length)f.shift()();return l.push.apply(l,s||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],o=!0,r=1;r<n.length;r++){var u=n[r];0!==a[u]&&(o=!1)}o&&(l.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},l=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var s=0;s<r.length;s++)t(r[s]);var c=u;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0634":function(e,t,n){"use strict";n("3ebd")},"0876":function(e,t,n){"use strict";n("1b63")},"1a25":function(e,t,n){"use strict";n("5f82")},"1b63":function(e,t,n){},"20a8":function(e,t,n){"use strict";n("be7f")},"227d":function(e,t,n){},"2e04":function(e,t,n){},"304f":function(e,t,n){},"36a2":function(e,t,n){"use strict";n("4abd")},"3ccf":function(e,t,n){},"3ebd":function(e,t,n){},"3f26":function(e,t,n){},4325:function(e,t,n){"use strict";n("fab1")},"4abd":function(e,t,n){},5517:function(e,t,n){"use strict";n("8f40")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},l=[],i=n("2877"),r={},u=Object(i["a"])(r,a,l,!1,null,null,null),s=u.exports,c=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("header",[n("headerCom")],1),n("main",[n("section",{staticClass:"left"},[n("leftCom")],1),n("section",{ref:"center",staticClass:"center",attrs:{id:"center"}},[n("div",{staticClass:"context",attrs:{id:"context"},on:{click:e.center}},[n("centerCom")],1)]),n("section",{staticClass:"right"},[n("rightCom")],1)])])},f=[],p=(n("4160"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("el-button",{ref:"back",attrs:{id:"back"}},[e._v("撤消")]),n("el-button",{on:{click:e.save}},[e._v("保存")]),n("el-button",{on:{click:e.preLook}},[e._v("预览")]),n("el-button",{on:{click:e.clear}},[e._v("清空画布")]),n("div",{staticClass:"canvas-size"},[n("span",[e._v("画布大小")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasSize.width,expression:"canvasSize.width"}],attrs:{type:"number"},domProps:{value:e.canvasSize.width},on:{input:function(t){t.target.composing||e.$set(e.canvasSize,"width",t.target.value)}}}),n("span",[e._v("*")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.canvasSize.height,expression:"canvasSize.height"}],attrs:{type:"number"},domProps:{value:e.canvasSize.height},on:{input:function(t){t.target.composing||e.$set(e.canvasSize,"height",t.target.value)}}})]),n("Operating",{ref:"Operating"})],1)}),m=[],h=n("5530"),v=n("2f62"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("PreLook",{model:{value:e.PreLookShow,callback:function(t){e.PreLookShow=t},expression:"PreLookShow"}})],1)},g=[],y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{ref:"bg",staticClass:"bg"},[n("el-button",{on:{click:e.close}},[e._v("关闭")]),n("div",{staticClass:"canvas",style:{width:e.canvasSize.width+"px",height:e.canvasSize.height+"px"}},e._l(e.componentData,(function(e,t){return n("WrapComponent",{key:t,attrs:{config:e}})})),1)],1):e._e()},C=[],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.config.component,{tag:"component",staticClass:"component",style:e.getStyle(e.config.style),attrs:{propValue:e.config.propValue}})},x=[];n("caad"),n("2532");function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=["color","backgroundColor","textAlign","opacity","lineHeight","fontWeight","borderColor"],o={};for(var a in e)t.includes(a)||("rotate"!=a?(o[a]=e[a],n.includes(a)||(o[a]+="px")):o.transform=a+"("+e[a]+"deg)");return o}function O(e,t,n){var o=e[t];e[t]=e[n],e[n]=o,console.log(e)}n("96cf");var _=n("1da1");function k(e){return D.apply(this,arguments)}function D(){return D=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n,o,a,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:[],o=l.length>2?l[2]:void 0,0==o&&t.classList.add("animate__animated"),a=function(e){t.classList.add(e);var a=function a(){t.removeEventListener("animationend",a),t.classList.remove(e),n.length!=o?k(t,n,o):n.forEach((function(e){t.classList.remove(e)}))};t.addEventListener("animationend",a)},a(n[o++]);case 5:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}var L={props:{config:{type:Object}},data:function(){return{getStyle:S}},mounted:function(){k(this.$el,this.config.animations,0)}},$=L,j=(n("64a8"),Object(i["a"])($,w,x,!1,null,"b8e16710",null)),I=j.exports,E={components:{WrapComponent:I},model:{prop:"show",event:"changed"},computed:Object(h["a"])({},Object(v["c"])(["componentData","canvasSize"])),props:{show:{type:Boolean}},methods:{close:function(){this.$emit("changed",!1)}}},z=E,N=(n("81e3"),Object(i["a"])(z,y,C,!1,null,"ad1c2060",null)),V=N.exports,M={data:function(){return{PreLookShow:!1}},mounted:function(){},components:{PreLook:V}},P=M,A=Object(i["a"])(P,b,g,!1,null,null,null),R=A.exports,U={components:{Operating:R},data:function(){return{width:0,height:0}},mounted:function(){console.log(this.$refs)},computed:Object(h["a"])({},Object(v["c"])(["canvasSize","componentData"])),methods:{test:function(e){e.stopPropagation(),e.preventDefault(),console.log(1)},change:function(){this.$store.commit("modefiyCanvasSize",parseInt(this.width),parseInt(this.height))},cancel:function(){},preLook:function(){this.$refs.Operating.PreLookShow=!0},save:function(){localStorage.setItem("componentData",JSON.stringify(this.componentData)),localStorage.setItem("canvasSize",JSON.stringify(this.canvasSize)),this.$message.info("保存成功")},clear:function(){this.$store.commit("clearComponentData",[]),localStorage.clear("component")}}},B=U,T=(n("20a8"),Object(i["a"])(B,p,m,!1,null,null,null)),H=T.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component-list"},e._l(e.componentsList,(function(t,o){return n("div",{key:o,staticClass:"list",attrs:{draggable:"","data-index":o}},[n("el-button",{attrs:{type:"primary",icon:t.icon}},[e._v(e._s(t.label))])],1)})),0)},Z=[],Y={rotate:"",opacity:1},X=[{component:"v-button",label:"按钮",propValue:"按钮",icon:"el-icon-thumb",animations:[],events:[],style:{width:100,height:34,borderWidth:"",borderColor:"",borderRadius:"",fontSize:14,fontWeight:500,lineHeight:"",letterSpacing:0,textAlign:"",color:"",backgroundColor:""}},{component:"v-input",label:"输入框",propValue:"输入框",icon:"el-icon-search",animations:[],events:[],style:{width:200,height:40,fontSize:14,fontWeight:500,lineHeight:"",letterSpacing:0,textAlign:"",color:""}},{component:"v-text",label:"文字",propValue:"文字",icon:"el-icon-edit",animations:[],events:[],style:{width:200,height:33,fontSize:14,fontWeight:500,lineHeight:"",letterSpacing:0,textAlign:"",color:""}},{component:"v-img",label:"图片",propValue:"图片",icon:"el-icon-picture-outline",animations:[],events:[],style:{width:200,height:100,fontSize:14,fontWeight:500,lineHeight:"",letterSpacing:0,textAlign:"",color:""}}];X.forEach((function(e){e.style=Object(h["a"])(Object(h["a"])({},e.style),Y)}));var J=X,K={data:function(){return{componentsList:J}},mounted:function(){document.addEventListener("dragstart",this.handleDragStart)},methods:{handleDragStart:function(e){e.dataTransfer.setData("index",e.target.dataset.index),event.target.style.opacity=.5}},destroyed:function(){document.removeEventListener("dragstart",this.handleDragStart)}},q=K,F=(n("9a3f"),Object(i["a"])(q,W,Z,!1,null,"28026d9e",null)),G=F.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"attr-box"},[n("el-tabs",{model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[n("el-tab-pane",{attrs:{label:"属性",name:"first"}},[e.curComponent?n("Attrlist"):n("span",[e._v("请选择组件")])],1),n("el-tab-pane",{attrs:{label:"动画",name:"second"}},[e.curComponent?n("Animatecom"):n("span",[e._v("请选择组件")]),e.curComponent?n("div",{staticClass:"tagstyle"},e._l(e.curComponent.animations,(function(t,o){return n("el-tag",{key:o,attrs:{closable:""},on:{close:function(t){return e.removeAnimation(o)}}},[e._v(" "+e._s(t)+" ")])})),1):e._e()],1),n("el-tab-pane",{attrs:{label:"事件",name:"third"}},[e.curComponent?n("EventHandle"):n("span",[e._v("请选择组件")]),e.curComponent?n("div",{staticClass:"tagstyle"},e._l(e.curComponent.events,(function(t,o){return n("el-tag",{key:o,attrs:{closable:""},on:{close:function(n){return e.removeEvents(t,o)}}},[e._v(" "+e._s(t.event)+" ")])})),1):e._e()],1)],1)],1)},ee=[],te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"attr-list"},[n("el-form",[e._l(e.styleKeys,(function(t,o){return n("el-form-item",{key:o,attrs:{label:e.map[t]}},["borderColor"==t||"color"==t||"backgroundColor"==t?n("el-color-picker",{model:{value:e.curComponent.style[t],callback:function(n){e.$set(e.curComponent.style,t,n)},expression:"curComponent.style[key]"}}):"textAlign"==t?n("el-select",{model:{value:e.curComponent.style[t],callback:function(n){e.$set(e.curComponent.style,t,n)},expression:"curComponent.style[key]"}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):n("el-input",{attrs:{type:"number"},model:{value:e.curComponent.style[t],callback:function(n){e.$set(e.curComponent.style,t,n)},expression:"curComponent.style[key]"}})],1)})),e.curComponent&&e.curComponent.propValue&&!e.excludes.includes(e.curComponent.component)?n("el-form-item",{attrs:{label:"内容"}},[n("el-input",{attrs:{type:"textarea"},model:{value:e.curComponent.propValue,callback:function(t){e.$set(e.curComponent,"propValue",t)},expression:"curComponent.propValue"}})],1):e._e()],2)],1)},ne=[],oe=(n("b64b"),{data:function(){return{excludes:["Picture"],options:[{label:"左对齐",value:"left"},{label:"居中",value:"center"},{label:"右对齐",value:"right"}],map:{left:"x 坐标",top:"y 坐标",height:"高",width:"宽",color:"颜色",backgroundColor:"背景色",borderWidth:"边框宽度",borderColor:"边框颜色",borderRadius:"边框半径",fontSize:"字体大小",fontWeight:"字体粗细",lineHeight:"行高",letterSpacing:"字间距",textAlign:"对齐方式",opacity:"透明度",rotate:"旋转角度"}}},computed:Object(h["a"])(Object(h["a"])({},Object(v["c"])(["curComponent","componentData"])),{},{styleKeys:function(){return this.curComponent?Object.keys(this.curComponent.style):[]}}),mounted:function(){}}),ae=oe,le=(n("6b34"),Object(i["a"])(ae,te,ne,!1,null,"2cddecf0",null)),ie=le.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"animate"},[n("el-button",{on:{click:e.add}},[e._v("添加动画")]),n("el-button",{on:{click:e.prelook}},[e._v("预览动画")]),n("Modal",{model:{value:e.addAnimate,callback:function(t){e.addAnimate=t},expression:"addAnimate"}},[n("el-tabs",{model:{value:e.tabsValue,callback:function(t){e.tabsValue=t},expression:"tabsValue"}},e._l(e.animationData,(function(t,o){return n("el-tab-pane",{key:o,attrs:{label:t.label,name:t.label}},[n("el-scrollbar",e._l(t.children,(function(t,o){return n("span",{key:t.value,staticClass:"animate__animated",class:e.animationIndex==o?"animate__"+t.value:"",on:{mouseover:function(t){return e.mouseoverhandle(o)},click:function(n){return e.addstyleHandle(t.value)}}},[e._v(" "+e._s(t.label)+" ")])})),0)],1)})),1)],1)],1)},ue=[],se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"modalbox",on:{click:e.hide}},[n("div",{staticClass:"modal",on:{click:e.handleClick}},[e._t("default")],2)])])},ce=[],de={model:{prop:"show",event:"changed"},data:function(){return{maskshow:!0}},props:{show:{type:Boolean,default:!1}},watch:{show:function(e){this.maskshow=e}},methods:{hide:function(){var e=this;setTimeout((function(){e.$emit("changed",!1)}),100)},handleClick:function(e){e.stopPropagation(),e.preventDefault()}}},fe=de,pe=(n("4325"),Object(i["a"])(fe,se,ce,!1,null,"0cfd5d8c",null)),me=pe.exports,he=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向右进入",value:"fadeInLeft"},{label:"向左进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向右长距进入",value:"fadeInLeftBig"},{label:"向左长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向右弹入",value:"bounceInLeft"},{label:"向左弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速从右进入",value:"lightSpeedInRight"},{label:"光速从左进入",value:"lightSpeedInLeft"},{label:"光速从右退出",value:"lightSpeedOutRight"},{label:"光速从左退出",value:"lightSpeedOutLeft"},{label:"Y轴旋转",value:"flip"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向右滑动展开",value:"slideInLeft"},{label:"向左滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutRight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}],ve=new o["default"],be={components:{Modal:me},data:function(){return this.animationData=he,{addAnimate:!1,tabsValue:"进入",animationIndex:""}},methods:{addstyleHandle:function(e){this.$store.commit("addAnimation","animate__"+e),this.addAnimate=!1},animationhandle:function(e){this.styleArr.push(e)},add:function(){this.addAnimate=!this.addAnimate},mouseoverhandle:function(e){this.animationIndex=e},prelook:function(){ve.$emit("runAnimation")}}},ge=be,ye=(n("5517"),Object(i["a"])(ge,re,ue,!1,null,"a2caeca8",null)),Ce=ye.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"event"},[n("el-button",{on:{click:e.add}},[e._v("添加事件")]),n("Modal",{model:{value:e.ModalShow,callback:function(t){e.ModalShow=t},expression:"ModalShow"}},[n("el-tabs",{model:{value:e.tabsValue,callback:function(t){e.tabsValue=t},expression:"tabsValue"}},e._l(e.eventsList,(function(t){return n("el-tab-pane",{key:t.key,attrs:{label:t.label,name:t.key}},["redirect"==t.key?n("el-input",{attrs:{type:"textarea",placeholder:"请输入完整的 URL"},model:{value:t.param,callback:function(n){e.$set(t,"param",n)},expression:"item.param"}}):e._e(),"alert"==t.key?n("el-input",{attrs:{type:"textarea",placeholder:"请输入要 alert 的内容"},model:{value:t.param,callback:function(n){e.$set(t,"param",n)},expression:"item.param"}}):e._e(),n("el-button",{staticStyle:{"margin-top":"20px"},on:{click:function(n){return e.addEvent(t.key,t.param)}}},[e._v("确定")])],1)})),1)],1)],1)},xe=[],Se=(n("d3b7"),n("25f0"),{redirect:function(e){e&&(window.location.href=e)},alert:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){e&&alert(e)}))}),Oe=[{key:"redirect",label:"跳转事件",event:Se.redirect,param:""},{key:"alert",label:"alert 事件",event:Se.alert,param:""}],_e={data:function(){return{eventsList:[],ModalShow:!1,tabsValue:"redirect"}},mounted:function(){this.eventsList=Oe},components:{Modal:me},methods:{add:function(){this.ModalShow=!this.ModalShow},addEvent:function(e,t){this.ModalShow=!1,this.$store.commit("addEvent",{event:e,param:t})}}},ke=_e,De=(n("0634"),Object(i["a"])(ke,we,xe,!1,null,"f1341ff2",null)),Le=De.exports,$e={data:function(){return{name:"first",eventsArr:[]}},components:{Attrlist:ie,Animatecom:Ce,EventHandle:Le},mounted:function(){},methods:{removeAnimation:function(e){this.$store.commit("removeAnimation",e)},removeEvents:function(e,t){this.$store.commit("removeEvent",e)}},computed:Object(v["c"])(["curComponent"])},je=$e,Ie=(n("84e1"),Object(i["a"])(je,Q,ee,!1,null,"f3b25574",null)),Ee=Ie.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"edit",staticClass:"edit",style:{width:e.canvasSize.width+"px",height:e.canvasSize.height+"px"},attrs:{id:"edit"}},[e._l(e.componentData,(function(t,o){return n("Shape",{key:t.id,style:e.getShapeStyle(t.style,o),attrs:{element:t,zindex:o,defaultStyle:t.style,active:t===e.curComponent}},["v-input"==t.component||"v-text"==t.component?n(t.component,{tag:"component",staticClass:"component",style:e.getComponentStyle(t.style),attrs:{propValue:t.propValue,element:t},on:{input:e.handleInput}}):n(t.component,{tag:"component",staticClass:"component",style:e.getComponentStyle(t.style),attrs:{propValue:t.propValue}})],1)})),n("MakeLine"),n("Menu")],2)},Ne=[],Ve=(n("4de4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"target",staticClass:"shape",class:{active:this.active},on:{mousedown:e.handleMouseDown,contextmenu:function(t){return t.preventDefault(),e.rightClick(t)}}},[e._l(e.pointList,(function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isshowPoint,expression:"isshowPoint"}],key:t,staticClass:"shape-point",style:e.getPointStyle(t),on:{mousedown:function(n){return e.handleMouseDownOnPoint(n,t)}}})})),e._t("default")],2)}),Me=[],Pe=(n("a15b"),n("d81d"),n("a9e3"),n("ac1f"),n("1276"),{props:{active:{type:Boolean,default:!1},defaultStyle:{require:!0,type:Object,default:{}},element:{require:!0,type:Object,default:{}},zindex:{require:!0,type:Number}},data:function(){return{pointList:["t","r","b","l","lt","rt","lb","rb"],directionKey:{t:"n",b:"s",l:"w",r:"e"},isshowPoint:!1}},computed:Object(h["a"])({},Object(v["c"])(["curComponent"])),mounted:function(){var e=this;document.addEventListener("click",this.handleSwift),this.defaulyWidth=this.defaultStyle.width,this.defaulyHeight=this.defaultStyle.height,ve.$on("runAnimation",(function(){e.element==e.curComponent&&k(e.$el,e.curComponent.animations,0)}))},beforeDestroy:function(){document.removeEventListener("click",this.handleSwift)},methods:{rightClick:function(e){e.stopPropagation(),e.preventDefault();var t=e.target,n=e.offsetX,o=e.offsetY;while(!t.className.includes("edit"))n+=t.offsetLeft,o+=t.offsetTop,t=t.parentNode;this.$store.commit("showContexeMenu",{left:n,top:o})},handleSwift:function(e){this.$refs.target.contains(e.target)?this.isshowPoint=!0:this.isshowPoint=!1},handleMouseDown:function(e){var t=this;e.stopPropagation(),this.isshowPoint=!0;var n=Object(h["a"])({},this.defaultStyle),o=this.$refs.target;this.$store.commit("setCurComponent",{component:this.element,zIndex:this.zindex});var a=o.getBoundingClientRect(),l=a.width,i=a.height,r=document.getElementById("edit").getBoundingClientRect(),u=r.height,s=r.width,c=r.left,d=r.top,f=e.clientX,p=e.clientY,m=parseInt(n.left),v=parseInt(n.top),b=(n.width,n.height,f-(o.offsetLeft+c)),g=p-(o.offsetTop+d),y=function(e){var o=e.clientX,a=e.clientY,r=o-f+m,h=a-p+v;o-b<=c&&(r=0),o>s-l+c+b&&(r=s-l),a-g<d&&(h=0),a>u-i+d+g&&(h=u-i),n.left=r,n.top=h,t.$store.commit("modifyCurComponentStyle",n),t.$nextTick((function(){ve.$emit("move",a-p>0,o-f>0)}))},C=function e(t){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",e),ve.$emit("unmove")};document.addEventListener("mousemove",y),document.addEventListener("mouseup",C)},getPointStyle:function(e){var t=this,n=this.defaultStyle,o=n.width,a=n.height,l=/l/.test(e),i=/r/.test(e),r=/t/.test(e),u=/b/.test(e),s=0,c=0;2==e.length?(s=l?0:o,c=r?0:a):((r||u)&&(s=o/2,c=r?0:a),(l||i)&&(s=l?0:o,c=a/2));var d=e.split("").reverse().map((function(e){return t.directionKey[e]})).join("")+"-resize",f={marginLeft:i?"-4px":"-3px",marginTop:"-3px",left:"".concat(s,"px"),top:"".concat(c,"px"),cursor:d};return f},handleMouseDownOnPoint:function(e,t){var n=this;e.stopPropagation(),e.preventDefault();var o=Object(h["a"])({},this.defaultStyle),a=parseInt(o.height),l=parseInt(o.width),i=parseInt(o.top),r=parseInt(o.left),u=e.clientX,s=e.clientY,c=function(e){var c=e.clientX,d=e.clientY,f=c-u,p=d-s,m=/t/.test(t),h=/b/.test(t),v=/l/.test(t),b=/r/.test(t),g=a+(m?-p:h?p:0),y=l+(v?-f:b?f:0);o.height=g>n.defaulyHeight?g:n.defaulyHeight,o.width=y>n.defaulyWidth?y:n.defaulyWidth,o.left=r+(v?f:0),o.top=i+(m?p:0),n.$store.commit("modifyCurComponentStyle",o)},d=function e(t){document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",e)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",d)}}}),Ae=Pe,Re=(n("1a25"),Object(i["a"])(Ae,Ve,Me,!1,null,"29d5f16d",null)),Ue=Re.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.lines,(function(t){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.lineStatus[t],expression:"lineStatus[line]"}],key:t,ref:t,refInFor:!0,class:t.includes("x")?"xline":"yline"})})),0)},Te=[],He={data:function(){return{lines:["xt","xb","yl","yr"],diff:3,lineStatus:{xt:!1,xb:!1,yl:!1,yr:!1}}},mounted:function(){var e=this;ve.$on("move",(function(t,n){e.showLine(t,n)})),ve.$on("unmove",(function(){e.hideLine()}))},computed:Object(v["c"])(["curComponent","componentData"]),methods:{showLine:function(e,t){var n=this,o=this.$refs,a=this.componentData,l=Object(h["a"])({},this.curComponent.style),i=(l.width,l.height,l.top),r=l.height,u=l.left,s=l.width;l.bottom=i+r,l.right=u+s,this.hideLine(),a.forEach((function(a){if(a!=n.curComponent){var i=a.style,r=i.top,u=i.left,s=i.height,c=i.width,d=r+s,f=u+c,p={top:[{isNearly:n.isNearly(l.top,r),lineNode:o.xt[0],line:"xt",lineShift:r},{isNearly:n.isNearly(l.bottom,r),lineNode:o.xt[0],line:"xt",lineShift:r},{isNearly:n.isNearly(l.top,d),lineNode:o.xb[0],line:"xb",lineShift:d},{isNearly:n.isNearly(l.bottom,d),lineNode:o.xb[0],line:"xb",lineShift:d}],left:[{isNearly:n.isNearly(l.left,u),lineNode:o.yl[0],line:"yl",lineShift:u},{isNearly:n.isNearly(l.right,u),lineNode:o.yl[0],line:"yl",lineShift:u},{isNearly:n.isNearly(l.left,f),lineNode:o.yr[0],line:"yr",lineShift:f},{isNearly:n.isNearly(l.right,f),lineNode:o.yr[0],line:"yr",lineShift:f}]},m=[];Object.keys(p).forEach((function(e){p[e].forEach((function(t){t.isNearly&&(t.lineNode.style[e]="".concat(t.lineShift,"px"),m.push(t.line))}))})),m.length>0&&n.drawLine(m,e,t)}}))},hideLine:function(){var e=this;Object.keys(this.lineStatus).forEach((function(t){e.lineStatus[t]=!1}))},drawLine:function(e,t,n){var o=this;Object.keys(this.lineStatus).forEach((function(t){e.includes(t)?o.lineStatus[t]=!0:o.lineStatus[t]=!1}))},isNearly:function(e,t){return Math.abs(e-t)<=this.diff}}},We=He,Ze=(n("a9c2"),Object(i["a"])(We,Be,Te,!1,null,"5c923b28",null)),Ye=Ze.exports,Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.menuShow,expression:"menuShow"}],staticClass:"Menu",style:{top:e.menuTop+"px",left:e.menuLeft+"px"}},[n("ul",[n("li",{on:{click:e.handleDelete}},[e._v("删除")]),n("li",{on:{click:e.handleUp}},[e._v("置顶")]),n("li",{on:{click:e.handledown}},[e._v("置底")]),n("li",{on:{click:e.handleAdd}},[e._v("上移")]),n("li",{on:{click:e.handleDecrease}},[e._v("下移")])])])},Je=[],Ke={computed:Object(h["a"])({},Object(v["c"])(["menuShow","menuTop","menuLeft"])),methods:Object(h["a"])(Object(h["a"])({},Object(v["b"])(["deleteComponent","upComponent","downComponent","AddComponentZindex","decreaseComponentZindex"])),{},{handleDelete:function(){this.deleteComponent()},handleUp:function(){this.upComponent(this)},handledown:function(){this.downComponent(this)},handleAdd:function(){this.AddComponentZindex(this)},handleDecrease:function(){this.decreaseComponentZindex(this)}})},qe=Ke,Fe=(n("ce2c"),Object(i["a"])(qe,Xe,Je,!1,null,"6fe68630",null)),Ge=Fe.exports,Qe={data:function(){return this.filter=["top","left","width","height","rotate","zIndex"],this.shapefilter=["width","height","top","left","rotate","backgroundColor"],{}},components:{Shape:Ue,MakeLine:Ye,Menu:Ge},computed:Object(h["a"])({},Object(v["c"])(["componentData","canvasSize","curComponent"])),methods:{handleInput:function(e,t){console.log(e,t),e.propValue=t},getShapeStyle:function(e,t){var n=Object(h["a"])({},e);return this.shapefilter.forEach((function(e){n[e]&&"rotate"!=e?n[e]+="px":n.transform="rotate("+n.rotate+"deg)"})),n.zIndex=t,n},getComponentStyle:function(e){var t=S(e,this.filter);return t}}},et=Qe,tt=(n("36a2"),Object(i["a"])(et,ze,Ne,!1,null,"23973f38",null)),nt=tt.exports,ot=n("81b0"),at=0;function lt(){return at++}var it={name:"Home",components:{headerCom:H,leftCom:G,rightCom:Ee,centerCom:nt},data:function(){return{componentsList:J}},mounted:function(){document.addEventListener("dragover",this.handleDragOver),document.addEventListener("dragend",this.handleDragend),document.addEventListener("drop",this.handleDrop)},created:function(){var e=localStorage.getItem("componentData"),t=localStorage.getItem("canvasSize");e&&(e=this.addID(JSON.parse(e)),this.$store.commit("setCurComponentData",e)),t&&this.$store.commit("setCanvasSize",JSON.parse(t))},methods:{center:function(){this.$store.commit("hideMenu")},addID:function(e){return e.forEach((function(e){e.id=lt()})),e},handleDragend:function(e){e.preventDefault(),e.target.style.opacity=""},handleDrop:function(e){e.preventDefault(),e.stopPropagation();var t=this.$refs.center;if(t.contains(e.target)){var n=Object(ot["cloneDeep"])(J[e.dataTransfer.getData("index")]);n.id=lt(),n.style.top=e.offsetY,n.style.left=e.offsetX,this.$store.commit("addComponent",n)}},handleDragOver:function(e){e.preventDefault(),"context"==e.target.id&&(e.dataTransfer.dropEffect="copy")}},destroyed:function(){document.removeEventListener("dragover",this.handleDragOver),document.removeEventListener("dragend",this.handleDragend),document.removeEventListener("drop",this.handleDrop)}},rt=it,ut=(n("0876"),Object(i["a"])(rt,d,f,!1,null,"57fa9ed1",null)),st=ut.exports;o["default"].use(c["a"]);var ct=[{path:"/",name:"Home",component:st}],dt=new c["a"]({mode:"hash",base:"",routes:ct}),ft=dt;n("a434");o["default"].use(v["a"]);var pt=new v["a"].Store({state:{curComponent:null,curComponentZindex:null,componentData:[],canvasSize:{width:1200,height:600},menuTop:0,menuLeft:0,menuShow:!1},mutations:{setCurComponent:function(e,t){var n=t.component,o=t.zIndex;e.curComponent=n,e.curComponentZindex=o},modifyCurComponentStyle:function(e,t){var n=e.curComponent,o=t.left,a=t.top,l=t.width,i=t.height;o&&(n.style.left=o),a&&(n.style.top=a),l&&(n.style.width=l),i&&(n.style.height=i),this.commit("hideMenu")},addComponent:function(e,t){e.componentData.push(t)},setCurComponentData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o["default"].set(e,"componentData",t)},setCanvasSize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:1200,height:600};o["default"].set(e,"canvasSize",t)},addAnimation:function(e,t){var n=e.curComponent;n.animations.push(t)},removeAnimation:function(e,t){var n=e.curComponent;n.animations.splice(t,1)},addEvent:function(e,t){var n=e.curComponent,o=t.event,a=t.param;n.events.push({event:o,param:a})},removeEvent:function(e,t){var n=e.curComponent;n.events.splice(t,1)},modefiyCanvasSize:function(e,t,n){var o=e.canvasSize;o.width=t,o.height=n},clearComponentData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o["default"].set(e,"componentData",t)},showContexeMenu:function(e,t){var n=t.left,o=t.top;e.menuShow=!0,e.menuLeft=n,e.menuTop=o},deleteComponent:function(e){e.componentData.splice(e.curComponentZindex,1),e.menuShow=!1},hideMenu:function(e){e.menuShow=!1},upComponent:function(e,t){var n=e.componentData,o=e.curComponentZindex;o<n.length-1?(O(n,o,n.length-1),this.commit("setCurComponent",{component:null,zIndex:null}),this.commit("hideMenu")):t.$message.info("到顶了")},downComponent:function(e,t){var n=e.componentData,o=e.curComponentZindex;o>0?(O(n,o,0),this.commit("setCurComponent",{component:null,zIndex:null}),this.commit("hideMenu")):t.$message.info("到底了")},AddComponentZindex:function(e,t){var n=e.componentData,o=e.curComponentZindex;o<n.length-1?(O(n,o,o+1),this.commit("setCurComponent",{component:null,zIndex:null}),this.commit("hideMenu")):t.$message.info("到顶了")},decreaseComponentZindex:function(e,t){var n=e.componentData,o=e.curComponentZindex;o>0?(O(n,o,o-1),this.commit("setCurComponent",{component:null,zIndex:null}),this.commit("hideMenu")):t.$message.info("到顶了")}}}),mt=(n("0fb7"),n("450d"),n("f529")),ht=n.n(mt),vt=(n("cbb5"),n("8bbc")),bt=n.n(vt),gt=(n("2986"),n("14e9")),yt=n.n(gt),Ct=(n("0fb4"),n("9944")),wt=n.n(Ct),xt=(n("fe07"),n("6ac5")),St=n.n(xt),Ot=(n("6611"),n("e772")),_t=n.n(Ot),kt=(n("1f1a"),n("4e4b")),Dt=n.n(kt),Lt=(n("10cb"),n("f3ad")),$t=n.n(Lt),jt=(n("a586"),n("7464")),It=n.n(jt),Et=(n("eca7"),n("3787")),zt=n.n(Et),Nt=(n("425f"),n("4105")),Vt=n.n(Nt),Mt=(n("e612"),n("dd87")),Pt=n.n(Mt),At=(n("075a"),n("72aa")),Rt=n.n(At),Ut=(n("1951"),n("eedf")),Bt=n.n(Ut);n("0fae");o["default"].use(Bt.a),o["default"].use(Rt.a),o["default"].use(Pt.a),o["default"].use(Vt.a),o["default"].use(zt.a),o["default"].use(It.a),o["default"].use($t.a),o["default"].use(Dt.a),o["default"].use(_t.a),o["default"].use(St.a),o["default"].use(wt.a),o["default"].use(yt.a),o["default"].use(bt.a),o["default"].prototype.$message=ht.a;n("3ccf");var Tt=n("77ed"),Ht=n.n(Tt),Wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-button",{staticClass:"v-button"},[e._v(e._s(e.propValue))])},Zt=[],Yt={props:{propValue:{type:String,default:""}}},Xt=Yt,Jt=Object(i["a"])(Xt,Wt,Zt,!1,null,null,null),Kt=Jt.exports,qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-input",{staticStyle:{height:"100%"},attrs:{placeholder:e.propValue},on:{input:e.write},model:{value:e.msg,callback:function(t){e.msg=t},expression:"msg"}})},Ft=[],Gt={data:function(){return{msg:""}},props:{propValue:{type:String,default:""},element:{type:Object}},methods:{write:function(){this.$emit("input",this.element,this.msg)}}},Qt=Gt,en=Object(i["a"])(Qt,qt,Ft,!1,null,"220736c0",null),tn=en.exports,nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("textarea",{ref:"textarea",domProps:{value:e.propValue},on:{input:e.write}})])},on=[],an={props:{propValue:{type:String,default:""},element:{type:Object}},methods:{write:function(){this.$emit("input",this.element,this.$refs.textarea.value)}}},ln=an,rn=(n("b6fc"),Object(i["a"])(ln,nn,on,!1,null,"658918ec",null)),un=rn.exports,sn=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("img",{attrs:{src:n("b54e"),alt:"",draggable:"false"}})},cn=[],dn={props:{propValue:{type:String,default:""},element:{type:Object}},mounted:function(){console.log(this.propValue)}},fn=dn,pn=(n("c0a0"),Object(i["a"])(fn,sn,cn,!1,null,"ca4d2b64",null)),mn=pn.exports;o["default"].component("VButton",Kt),o["default"].component("VInput",tn),o["default"].component("VText",un),o["default"].component("VImg",mn),o["default"].config.productionTip=!1,o["default"].use(Ht.a),new o["default"]({router:ft,store:pt,render:function(e){return e(s)}}).$mount("#app")},"5f82":function(e,t,n){},"61ef":function(e,t,n){},"64a8":function(e,t,n){"use strict";n("8220")},"6b34":function(e,t,n){"use strict";n("227d")},"81e3":function(e,t,n){"use strict";n("304f")},8220:function(e,t,n){},"84e1":function(e,t,n){"use strict";n("b09c")},"8f40":function(e,t,n){},"9a3f":function(e,t,n){"use strict";n("3f26")},a9c2:function(e,t,n){"use strict";n("d4ca")},b09c:function(e,t,n){},b54e:function(e,t,n){e.exports=n.p+"img/1.dbb88fca.jpg"},b6fc:function(e,t,n){"use strict";n("cbb8")},be7f:function(e,t,n){},c0a0:function(e,t,n){"use strict";n("61ef")},cbb8:function(e,t,n){},ce2c:function(e,t,n){"use strict";n("2e04")},d4ca:function(e,t,n){},fab1:function(e,t,n){}});
//# sourceMappingURL=app.5ba26da2.js.map